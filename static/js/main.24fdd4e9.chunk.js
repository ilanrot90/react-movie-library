(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{268:function(e,t,a){},326:function(e,t,a){e.exports=a(706)},331:function(e,t,a){},639:function(e,t,a){},700:function(e,t,a){},702:function(e,t,a){},704:function(e,t,a){},706:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),i=a.n(o),l=(a(331),a(35)),s=a(36),c=a(38),u=a(37),m=a(39),p=a(189),d=a.n(p),h=a(303),v=a(43),f=a(708),b=a(709),E=a(54),g=a(190),O=a.n(g),y="http://www.omdbapi.com/?apikey=493c6020&t=",C=["Harry Potter and the Deathly Hallows: Part 2","Blade Runner 2049","wonder woman","justice league","The Shape of Water","All the Money in the World","The Greatest Showman","Thor: Ragnarok","Spider-Man: Homecoming","Star Wars","Cold Skin","Get Out"];var M="GET_MOVIES",j="MOVIES_SUCCESS",S="ADD_MOVIE",D="REMOVE_MOVIES",I="UPDATE_MOVIES";function N(){return function(e){var t=C.map(function(e){return O.a.get("".concat(y).concat(e)).then(function(e){return e.data}).then(function(e){return{Title:e.Title,Year:e.Year,Runtime:e.Runtime,Genre:e.Genre,Director:e.Director,imdbID:e.imdbID,Poster:e.Poster}})});return Promise.all(t).then(function(t){return e({type:M,payload:t})})}}function R(e){return{type:I,payload:e}}var w=a(707),T=(a(268),"M27 0c2.761 0 5 2.239 5 5 0 1.126-0.372 2.164-1 3l-2 2-7-7 2-2c0.836-0.628 1.874-1 3-1zM2 23l-2 9 9-2 18.5-18.5-7-7-18.5 18.5zM22.362 11.362l-14 14-1.724-1.724 14-14 1.724 1.724z"),k="M4 10v20c0 1.1 0.9 2 2 2h18c1.1 0 2-0.9 2-2v-20h-22zM10 28h-2v-14h2v14zM14 28h-2v-14h2v14zM18 28h-2v-14h2v14zM22 28h-2v-14h2v14z",P="M26.5 4h-6.5v-2.5c0-0.825-0.675-1.5-1.5-1.5h-7c-0.825 0-1.5 0.675-1.5 1.5v2.5h-6.5c-0.825 0-1.5 0.675-1.5 1.5v2.5h26v-2.5c0-0.825-0.675-1.5-1.5-1.5zM18 4h-6v-1.975h6v1.975z",_=function(e){var t=e.movie,a=e.openModal,n=t.Genre,o=t.imdbID,i=t.Year,l=t.Director,s=t.Runtime;return r.a.createElement("div",{className:"subtext"},r.a.createElement("p",null,"Released at ",i),r.a.createElement("p",null,"By ",l),r.a.createElement("p",null,"Runtime: ",s),r.a.createElement("p",null,n),r.a.createElement("button",{className:"edit__btn btn-round",onClick:function(){return a(o,"modal")}},r.a.createElement("svg",{viewBox:"0 0 32 32",className:"edit__icon icon"},r.a.createElement("path",{d:T}))),r.a.createElement("button",{className:"trash__btn btn-round",onClick:function(){return a(o,"confirm")}},r.a.createElement("svg",{viewBox:"0 0 32 32",className:"trash__icon icon"},r.a.createElement("path",{d:k}),r.a.createElement("path",{d:P}))))},x={cardMedia:{overflow:"hidden"},card:{cursor:"pointer",overflow:"hidden"},bgImage:{width:"100%"},title:{fontSize:"15px"}},z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},a.openModal=function(e,t){a.props.openMovieModal(e,t)},a.filterTitle=function(e){return e.split(" ").map(function(e){var t=a.capitalize(e).match(/[a-z, 0-9]/gi);return t&&t.push(" "),t})},a.state={isMouseOver:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.movie,a=this.state.isMouseOver?r.a.createElement(_,{movie:t,openModal:this.openModal}):null,n=this.filterTitle(t.Title);return r.a.createElement(E.b,{className:"card",style:x.card,onMouseOver:function(){return e.setState({isMouseOver:!0})},onMouseLeave:function(){return e.setState({isMouseOver:!1})}},r.a.createElement(E.c,{style:x.cardMedia,overlay:r.a.createElement(E.d,{style:x.title,title:n,subtitle:a})},r.a.createElement("img",{style:x.bgImage,src:t.Poster,alt:"poster"})))}}]),t}(n.Component),G=Object(v.b)(function(){return{}},{openMovieModal:function(e,t){return{type:"OPEN_MODAL",payload:{movieId:e,tag:t}}}})(z),Y={movieColumn:{marginBottom:20}},L=function(e){var t=e.movies,a=(e.isLoading,t?t.map(function(e){return r.a.createElement(w.a,{style:Y.movieColumn,key:e.imdbID,className:"col",sm:12,lg:3,bsClass:"col"},r.a.createElement(G,{movie:e}))}):null);return r.a.createElement(r.a.Fragment,null,a)},F=a(55),A=a.n(F),V=a(309),B=a.n(V),W=a(125),H=a.n(W),U=a(311),J=a.n(U),X=a(312),$=a.n(X),q=a(310),Z=a.n(q),K=a(124),Q=a.n(K);function ee(e){return r.a.createElement(Q.a,Object.assign({direction:"up"},e))}var te=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleDelete=function(e,t){var n=a.props.movies.filter(function(t){return t.imdbID!==e});a.props.updateMovie(n),t()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.handleCloseModal,n=t.movieId,o=t.isOpen,i=t.movies.find(function(e){return e.imdbID===n}).Title;return r.a.createElement("div",null,r.a.createElement(A.a,{onClick:this.handleClickOpen},"Slide in alert dialog"),r.a.createElement(B.a,{open:o,TransitionComponent:ee,keepMounted:!0,onClose:function(){return a},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(Z.a,{id:"alert-dialog-slide-title"},"Delete movie"),r.a.createElement(J.a,null,r.a.createElement($.a,{id:"alert-dialog-slide-description"},"You are about to delete ",i," from your movie library, to continue press Delete, else press Cencel.")),r.a.createElement(H.a,null,r.a.createElement(A.a,{onClick:a,color:"primary"},"Cancel"),r.a.createElement(A.a,{onClick:function(){return e.handleDelete(n,a)},color:"primary"},"Delete"))))}}]),t}(n.Component);var ae=Object(v.b)(function(e){return{isOpen:e.modalState.isOpen,movieId:e.modalState.movieId,movies:e.movies.moviesResult}},function(e){return{handleCloseModal:function(){return e({type:"CLOSE_MODAL"})},updateMovie:function(t){return e(R(t))}}})(te),ne=a(32),re=a(81),oe=a(52),ie=a.n(oe),le=a(67),se=a.n(le),ce=a(83),ue=a.n(ce),me=(a(639),function(e){var t=e.formErrors;return r.a.createElement("div",{className:"formErrors"},Object.keys(t).map(function(e,a){return t[e].haveError?r.a.createElement("p",{key:a},e," ",t[e].message):""}))});var pe=a(323),de=a(14),he=a.n(de),ve=a(324),fe=a(188),be=a(97),Ee=a.n(be),ge=a(187),Oe=a.n(ge),ye=a(313),Ce=a.n(ye),Me=a(122),je=a.n(Me),Se=a(315),De=a.n(Se),Ie=a(314),Ne=a.n(Ie),Re=a(316),we=a.n(Re),Te=a(96),ke=[{label:"Adventure"},{label:"Biography"},{label:"Horror"},{label:"Musical"},{label:"Comedy"},{label:"Crime"},{label:"Drama"},{label:"War"},{label:"Romance"},{label:"Fantasy"},{label:"Mystery"},{label:"Sci-Fi"},{label:"Thriller"}].map(function(e){return{value:e.label,label:e.label}});function Pe(e){var t=e.inputRef,a=Object(pe.a)(e,["inputRef"]);return r.a.createElement("div",Object.assign({ref:t},a))}var _e={Control:function(e){return r.a.createElement(Ce.a,Object.assign({fullWidth:!0,InputProps:{inputComponent:Pe,inputProps:Object(ne.a)({className:e.selectProps.classes.input,inputRef:e.innerRef,children:e.children},e.innerProps)}},e.selectProps.textFieldProps))},Menu:function(e){return r.a.createElement(je.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){return r.a.createElement(De.a,{tabIndex:-1,label:e.children,className:he()(e.selectProps.classes.chip,Object(re.a)({},e.selectProps.classes.chipFocused,e.isFocused)),onDelete:e.removeProps.onClick,deleteIcon:r.a.createElement(we.a,e.removeProps)})},NoOptionsMessage:function(e){return r.a.createElement(Ee.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return r.a.createElement(Ne.a,Object.assign({buttonRef:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Placeholder:function(e){return r.a.createElement(Ee.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.placeholder},e.innerProps),e.children)},ValueContainer:function(e){return r.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}},xe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={multi:null,error:!1},a.handleChange=function(e,t){return function(e){console.log(e,a.state.multi.length);var n=0===e.length;console.log(n),a.setState({multi:e,error:n},t(e,"Genre"))}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({multi:this.props.multi})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme,n=this.state.error,o={input:function(e){return Object(ne.a)({},e,{color:a.palette.text.primary,"& input":{font:"inherit"}})}};return r.a.createElement("div",{className:t.root},r.a.createElement(Oe.a,null,r.a.createElement(ve.a,{classes:t,styles:o,textFieldProps:{error:n,InputLabelProps:{shrink:!0}},options:ke,components:_e,value:this.state.multi,onChange:this.handleChange("multi",this.props.handleChange),placeholder:"Select multiple countries",isMulti:!0})))}}]),t}(r.a.Component),ze=Object(fe.withStyles)(function(e){return{root:{flexGrow:1,height:250},input:{display:"flex",padding:0},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:"".concat(e.spacing.unit/2,"px ").concat(e.spacing.unit/4,"px")},chipFocused:{backgroundColor:Object(Te.emphasize)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:e.spacing.unit,left:0,right:0},divider:{height:2*e.spacing.unit}}},{withTheme:!0})(xe);a(700);function Ge(e){return r.a.createElement(Q.a,Object.assign({direction:"down"},e))}var Ye=function(e){return{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(".concat(e,")"),backgroundRepeat:"no-repeat",backgroundSize:"100%",height:"100%",minHeight:400,color:"white",padding:10}},Le=function(e){function t(e){var a,n=e.props;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,n))).validate=function(e,t){var n=function(e,t,a){switch(t){case"Title":return a.includes(e)?{haveError:!0,message:" already exist"}:e?{haveError:!1,message:""}:{haveError:!0,message:" cannot be empty"};case"Genre":return!e.length>0?{haveError:!0,message:" cannot be empty"}:{haveError:!1,message:""};case"Director":return/^[A-Za-z\s]+$/.test(e)?{haveError:!1,message:""}:{haveError:!0,message:" is not valid cannot be empty"};case"Year":var n=+e;return!/^\d{4}$/.test(n)||n>(new Date).getFullYear()?{haveError:!0,message:" is not valid date"}:{haveError:!1,message:""};case"Runtime":var r=+e;return!/\d$/.test(r)||r>150?{haveError:!0,message:" is not valid time for this movie"}:{haveError:!1,message:""};default:return}}(e,t,a.moviesTitles),r=JSON.parse(JSON.stringify(a.state.formErrors));r[t]=n,a.setState({formErrors:r},a.setErrors())},a.handleChange=function(e,t){a.setState(Object(re.a)({},t,e),function(){a.validate(e,t)})},a.submitChanges=function(){if(console.log(a.state.errors),!0!==a.state.errors){var e=a.state,t=e.Title,n=e.Director,r=e.Runtime,o=e.Year,i=e.Genre;i=i.map(function(e,t){return 0!==t?" ".concat(e.label):e.label}).toString();var l=a.props.movies.map(function(e){return e.imdbID===a.props.movieId?Object(ne.a)({},e,{Title:t,Director:n,Runtime:r,Year:o,Genre:i}):e});a.props.updateMovie(l),a.props.handleCloseModal()}},a.state={Title:"",Genre:"",Runtime:"",Year:"",Director:"",errors:!1,formErrors:{Title:{haveError:!1,errors:[]},Year:{haveError:!1,errors:[]},Genre:{haveError:!1,errors:[]},Runtime:{haveError:!1,errors:[]},Director:{haveError:!1,errors:[]}}},a.moviesTitles=void 0,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.movies.find(function(t){return t.imdbID===e.props.movieId}),a=t.Title,n=t.Director,r=t.Runtime,o=t.Year,i=t.Genre;i=i.split(", ").map(function(e){return{label:e,value:e}}),this.setState({Title:a,Director:n,Runtime:r,Year:o,Genre:i}),this.moviesTitles=this.props.movies.map(function(e){return e.Title})}},{key:"setErrors",value:function(){var e=this,t=Object.keys(this.state.formErrors).every(function(t){return!0!==e.state.formErrors[t].haveError});this.setState({errors:t})}},{key:"render",value:function(){var e=this,t=this.props,a=t.isOpen,n=t.handleCloseModal,o=t.movieId,i=t.movies.find(function(e){return e.imdbID===o}).Poster,l=this.state.Runtime.split(" ")[0];return r.a.createElement(E.e,{autoScrollBodyContent:!0,TransitionComponent:Ge,title:"Edit movie",modal:!1,open:a,onClose:function(){return n}},r.a.createElement("div",{style:Ye(i)},r.a.createElement(me,{formErrors:this.state.formErrors}),r.a.createElement(se.a,{className:"form-controll"},r.a.createElement(ue.a,{className:"label",htmlFor:"component-simple"},"Title"),r.a.createElement(ie.a,{className:"input",autoFocus:!0,error:this.state.formErrors.Title.haveError,value:this.state.Title,onChange:function(t){return e.handleChange(t.target.value,"Title")}})),r.a.createElement(se.a,{className:"form-controll"},r.a.createElement(ue.a,{className:"label",htmlFor:"component-simple"},"Runtime in minutes"),r.a.createElement(ie.a,{className:"input",error:this.state.formErrors.Runtime.haveError,value:l,onChange:function(t){return e.handleChange(t.target.value,"Runtime")}})),r.a.createElement(se.a,{className:"form-controll"},r.a.createElement(ue.a,{className:"label",htmlFor:"component-simple"},"Year"),r.a.createElement(ie.a,{className:"input",error:this.state.formErrors.Year.haveError,value:this.state.Year,onChange:function(t){return e.handleChange(t.target.value,"Year")}})),r.a.createElement(se.a,{className:"form-controll"},r.a.createElement(ue.a,{className:"label",htmlFor:"component-simple"},"Director"),r.a.createElement(ie.a,{className:"input",error:this.state.formErrors.Director.haveError,value:this.state.Director,onChange:function(t){return e.handleChange(t.target.value,"Director")}})),r.a.createElement(se.a,{className:"form-controll"},r.a.createElement(ze,{handleChange:this.handleChange,error:this.state.formErrors.Genre.haveError,className:"input",multi:this.state.Genre}))),r.a.createElement(H.a,null,r.a.createElement(A.a,{onClick:n,color:"primary"},"Cancel"),r.a.createElement(A.a,{onClick:this.submitChanges,color:"primary"},"Save")))}}]),t}(r.a.Component);var Fe=Object(v.b)(function(e){return{isOpen:e.modalState.isOpen,movieId:e.modalState.movieId,movies:e.movies.moviesResult}},function(e){return{handleCloseModal:function(){return e({type:"CLOSE_MODAL"})},updateMovie:function(t){return e(R(t))}}})(Le),Ae=(a(702),"M992.262 871.396l-242.552-206.294c-25.074-22.566-51.89-32.926-73.552-31.926 57.256-67.068 91.842-154.078 91.842-249.176 0-212.078-171.922-384-384-384-212.076 0-384 171.922-384 384s171.922 384 384 384c95.098 0 182.108-34.586 249.176-91.844-1 21.662 9.36 48.478 31.926 73.552l206.294 242.552c35.322 39.246 93.022 42.554 128.22 7.356s31.892-92.898-7.354-128.22zM384 640c-141.384 0-256-114.616-256-256s114.616-256 256-256 256 114.616 256 256-114.614 256-256 256z"),Ve=function(e){var t=e.handleInputChange,a=e.value,n=e.handleSubmit;return r.a.createElement("form",{onSubmit:n,className:"search-box"},r.a.createElement("input",{className:"search-input",type:"text",onChange:t,value:a}),r.a.createElement("svg",{viewBox:"0 0 1024 1024",className:"search__icon"},r.a.createElement("path",{d:Ae})))},Be=(a(704),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){a.setState({value:e})},a.handleSubmit=function(){var e=Object(h.a)(d.a.mark(function e(t){var n,r,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state.value,e.next=4,i=n,O.a.get("".concat(y).concat(i)).then(function(e){return e.data}).then(function(e){return{Title:e.Title,Year:e.Year,Runtime:e.Runtime,Genre:e.Genre,Director:e.Director,imdbID:e.imdbID,Poster:e.Poster}});case 4:r=e.sent,a.setState({value:""}),o=a.props.movies.every(function(e){return e.imdbID!==r.imdbID}),r&&o&&a.props.addMovie(r);case 8:case"end":return e.stop()}var i},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.components={modal:Fe,confirm:ae},a.state={value:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.loadMovies()}},{key:"render",value:function(){var e=this,t=this.props,a=t.movies,n=t.isOpenModal,o=this.components[this.props.tag||"modal"];return r.a.createElement("div",null,r.a.createElement(E.a,{title:"Your oun movie library"}),r.a.createElement(f.a,null,r.a.createElement(b.a,null,r.a.createElement(Ve,{handleInputChange:function(t){return e.handleInputChange(t.target.value)},handleSubmit:this.handleSubmit})),r.a.createElement(b.a,null,r.a.createElement(L,{movies:a,isLoading:!1,className:"row"}))),n&&r.a.createElement(o,null))}}]),t}(n.Component));var We=Object(v.b)(function(e){return{movies:e.movies.moviesResult,isOpenModal:e.modalState.isOpen,tag:e.modalState.tag}},function(e){return{loadMovies:function(){return e(N())},addMovie:function(t){return e(function(e){return{type:S,payload:e}}(t))}}})(Be),He=a(121),Ue=a.n(He),Je=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(Ue.a,null,r.a.createElement(We,null))}}]),t}(n.Component),Xe=a(53),$e=a(322),qe={moviesResult:[]};var Ze={isOpen:!1,tag:"modal",movieId:void 0},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MODAL":return{isOpen:!0,movieId:t.payload.movieId,tag:t.payload.tag};case"CLOSE_MODAL":return Object(ne.a)({},e,{isOpen:!1});default:return e}},Qe=Object(Xe.c)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return console.log(e,t.payload),Object(ne.a)({},e,{moviesResult:t.payload});case j:return Object(ne.a)({},e,{isLoading:t.payload.isLoading});case S:return Object(ne.a)({},e,{moviesResult:Object($e.a)(e.moviesResult).concat([t.payload])});case D:return Object(ne.a)({},e,{moviesResult:t.payload.movies});case I:return Object(ne.a)({},e,{moviesResult:t.payload});default:return e}},modalState:Ke}),et=a(320);var tt=Object(Xe.e)(Qe,Object(Xe.d)(Object(Xe.a)(et.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));i.a.render(r.a.createElement(v.a,{store:tt},r.a.createElement(Je,null)),document.getElementById("root"))}},[[326,2,1]]]);
//# sourceMappingURL=main.24fdd4e9.chunk.js.map